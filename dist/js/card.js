"use strict";require(["config"],function(){require(["jquery","header","footer","jquerycookie"],function(i,a,t,n){new Promise(function(t,n){i("header").load("/html/component/header.html",function(){a.init(),a.list(),a.welcome()}),i("footer").load("/html/component/footer.html",function(){t()})}).then(function(){var t=i.cookie("cart"),n="";t?(t=JSON.parse(t),i(".cart-area").show()):(t=[],i(".cart-area").hide(),n+='\n\t\t\t\t\t<tr class="empty">\n\t\t\t\t\t\t<td>您的购物车里还没有商品，去<a href="http://localhost:1000/html/detail.html?id=2">选购商品</a></td>\n\t\t\t\t\t</tr>\n\t\t \t\t',console.log(n),i("#cart_body").html(n),console.log(1111)),console.log(t),t.forEach(function(t){n+='\n\t\t\t\t\t<tr class="tr">\n\t\t\t\t\t<td class="num">'.concat(t.id,'</td>\n\t\t\t\t\t<td class="goods-img"><a href="javascript:;"><img src="').concat(t.img,'"></a></td>\n\t\t\t\t\t<td class="goods-cake">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>').concat(t.title,'</h4>\n\t\t\t\t\t\t\t<span class="goods-spec">规格<span>&nbsp;2.0磅</span></span>\n\t\t\t\t\t\t\t<span><i></i>赠送10套餐具</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class="select-birthday">\n\t\t\t\t\t\t<div class="select-birthday-list">\n\t\t\t\t\t\t\t<input type="text" name="" placeholder="请选择生日牌" class="choose-card"/>\n\t\t\t\t\t\t\t<i class="huaguo"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul class="birthday-options">\n\t\t\t\t\t\t\t<li>生日快乐</li>\n\t\t\t\t\t\t\t<li>Happy Birthd</li>\n\t\t\t\t\t\t\t<li>节日快乐</li>\n\t\t\t\t\t\t\t<li>自定义</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class="cart-price">').concat(t.price,'</td>\n\t\t\t\t\t<td class="amount">\n\t\t\t\t\t\t<div class="number">\n\t\t\t\t\t\t\t<input type="button" name="" class="reduce" id="reduce">\n\t\t\t\t\t\t\t<input type="text" name="" class="txt" id="txt" value="').concat(t.amount,'"/>\n\t\t\t\t\t\t\t<input type="button" name="" class="add" id="add">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class="money" id="money">').concat(t.price*t.amount,'</td>\n\t\t\t\t\t<td class="del"><i class="i"></i></td>\n\t\t\t\t</tr>\n\t\t\t\t<div class="cart-area">\n\t\t\t\t<a href="javascript:;" class="cart-submit-empty"><i></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;全部清空</a>\n\t\t\t\t<ul class="detail-cart-total">\n\t\t\t\t\t<li>商品金额：￥ 256.00</li>\n\t\t\t\t\t<li>配送费：￥ 0.00</li>\n\t\t\t\t\t<li>活动优惠：￥ 0.00</li>\n\t\t\t\t\t<li class="card-total"><span>合计：￥</span><span>&nbsp;256.00</span>\n\t\t\t\t\t<span>订单已经满100元，享免费配送服务</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t<div class="detail-cart-button"><a href="javascript:;">去结算</a></div>\n\t\t</div>\t\n\t\t \t\t')}),i("#cart_body").html(n)}).then(function(){i.cookie("cart");i("#cart_body").on("click",".i",function(t){i("#cart_body").find(".num");i(this).parents(".tr").remove(),i.cookie("cart","",{expires:-1,path:"/"}),window.location.reload()})}).then(function(){i("#cart_body").children(":first");var t=i(".amount"),n=i(".cart-price").text(),a=i(".money");t=1,i(".add").click(function(){t=parseInt(i("#txt").val()),t++,i("#txt").val(t),a.text(t*n)}),i(".reduce").click(function(){1<(t=parseInt(i("#txt").val()))&&t--,i("#txt").val(t),a.text(t*n)})}).then(function(){i(".huaguo").mousemove(function(){i(".birthday-options").show()}),i(".huoguo").mouseleave(function(){i(".birthday-options").hide()})})})});